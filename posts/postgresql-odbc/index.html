<!doctype html><html lang=en-us x-data :class=$store.darkMode.class() :data-theme=$store.darkMode.theme()><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>PostgreSQL ODBC | Caisong's Blog</title>
<link rel=canonical href=https://caisong.github.io/posts/postgresql-odbc/><meta name=author content="Cai Song"><meta name=description content=" å®‰è£…unixODBC å®‰è£…PostgreSQL ODBCé©±åŠ¨ æ£€æŸ¥é©±åŠ¨é…ç½® æ·»åŠ æ•°æ®æº ä¿®æ”¹PostgrsSQLè®¤è¯æ–¹å¼ éªŒè¯ ODBC è¿æ¥æ•°æ®åº“ å®‰è£…unixODBC ç›´æ¥ä¸‹è½½å®˜ç½‘çš„æºç ç¼–è¯‘å®‰è£…å°±å¯ä»¥äº†ï¼Œæ¯”è¾ƒç®€å•
curl -O http://www.unixodbc.org/unixODBC-2.3.4.tar.gz tar xvf unixODBC-2.3.4.tar.gz cd unixODBC-2.3.4 ./configure --sysconfdir=/etc make make install æˆ–è€…ç›´æ¥
yum install unixODBC å®‰è£…PostgreSQL ODBCé©±åŠ¨ æŒ‰ç…§ä¹‹å‰æ·»åŠ æºçš„æ–¹å¼å®‰è£…PostgreSQLï¼Œç°åœ¨å¯ä»¥ç›´æ¥å®‰è£…ODBCé©±åŠ¨. æ·»åŠ æºæ–¹æ³•
yum install http://yum.postgresql.org/9.5/redhat/rhel-7-x86_64/pgdg-redhat95-9.5-2.noarch.rpm "><meta name=keywords content="Postgresql,Odbc"><meta name=generator content="Hugo 0.140.2"><meta property="og:url" content="https://caisong.github.io/posts/postgresql-odbc/"><meta property="og:site_name" content="Caisong's Blog"><meta property="og:title" content="PostgreSQL ODBC"><meta property="og:description" content="å®‰è£…unixODBC å®‰è£…PostgreSQL ODBCé©±åŠ¨ æ£€æŸ¥é©±åŠ¨é…ç½® æ·»åŠ æ•°æ®æº ä¿®æ”¹PostgrsSQLè®¤è¯æ–¹å¼ éªŒè¯ ODBC è¿æ¥æ•°æ®åº“ å®‰è£…unixODBC ç›´æ¥ä¸‹è½½å®˜ç½‘çš„æºç ç¼–è¯‘å®‰è£…å°±å¯ä»¥äº†ï¼Œæ¯”è¾ƒç®€å•
curl -O http://www.unixodbc.org/unixODBC-2.3.4.tar.gz tar xvf unixODBC-2.3.4.tar.gz cd unixODBC-2.3.4 ./configure --sysconfdir=/etc make make install æˆ–è€…ç›´æ¥
yum install unixODBC å®‰è£…PostgreSQL ODBCé©±åŠ¨ æŒ‰ç…§ä¹‹å‰æ·»åŠ æºçš„æ–¹å¼å®‰è£…PostgreSQLï¼Œç°åœ¨å¯ä»¥ç›´æ¥å®‰è£…ODBCé©±åŠ¨. æ·»åŠ æºæ–¹æ³•
yum install http://yum.postgresql.org/9.5/redhat/rhel-7-x86_64/pgdg-redhat95-9.5-2.noarch.rpm"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-10-12T21:32:48+00:00"><meta property="article:modified_time" content="2016-10-12T21:32:48+00:00"><meta property="article:tag" content="Postgresql"><meta property="article:tag" content="Odbc"><meta property="og:image" content="https://caisong.github.io/img/background.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://caisong.github.io/img/background.jpg"><meta name=twitter:title content="PostgreSQL ODBC"><meta name=twitter:description content="å®‰è£…unixODBC å®‰è£…PostgreSQL ODBCé©±åŠ¨ æ£€æŸ¥é©±åŠ¨é…ç½® æ·»åŠ æ•°æ®æº ä¿®æ”¹PostgrsSQLè®¤è¯æ–¹å¼ éªŒè¯ ODBC è¿æ¥æ•°æ®åº“ å®‰è£…unixODBC ç›´æ¥ä¸‹è½½å®˜ç½‘çš„æºç ç¼–è¯‘å®‰è£…å°±å¯ä»¥äº†ï¼Œæ¯”è¾ƒç®€å•
curl -O http://www.unixodbc.org/unixODBC-2.3.4.tar.gz tar xvf unixODBC-2.3.4.tar.gz cd unixODBC-2.3.4 ./configure --sysconfdir=/etc make make install æˆ–è€…ç›´æ¥
yum install unixODBC å®‰è£…PostgreSQL ODBCé©±åŠ¨ æŒ‰ç…§ä¹‹å‰æ·»åŠ æºçš„æ–¹å¼å®‰è£…PostgreSQLï¼Œç°åœ¨å¯ä»¥ç›´æ¥å®‰è£…ODBCé©±åŠ¨. æ·»åŠ æºæ–¹æ³•
yum install http://yum.postgresql.org/9.5/redhat/rhel-7-x86_64/pgdg-redhat95-9.5-2.noarch.rpm"><link rel=stylesheet href=/css/output.min.css><style>pre{padding:1em;overflow:auto}</style><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script></head><body x-data="{
    flip: false,
  }"><div id=dream-global-bg></div><nav x-data="{ isSticky: false }" x-init="window.addEventListener('scroll', () => { isSticky = window.scrollY > 30 })" class="sticky top-0 z-30 mt-4 lg:mt-8 py-4" :class="{ 'bg-base-100 shadow-lg dark:border-b dark:border-base-content/30': isSticky }"><div class="container flex justify-between px-4"><section class="flex items-center gap-4"><div class="avatar cursor-pointer hover:online" @click="flip = !flip" title="Flip it!"><div class="h-10 rounded-full"><img src=/img/avatar.png alt="A blog about all things technical."></div></div><div><a href=https://caisong.github.io/ class="text-lg font-semibold cursor-pointer">A blog about all things technical.</a></div></section><div class="dropdown dropdown-end sm:hidden"><div tabindex=0 role=button class="btn btn-ghost btn-square" aria-label="Select an option"><ion-icon name=menu class=text-2xl></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-md"><li><div role=link tabindex=0 class="inline-flex items-center p-2 cursor-pointer" @click="flip = !flip" title=About><ion-icon name=information-circle></ion-icon>About</div></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/index.xml title=RSS><ion-icon name=logo-rss></ion-icon>RSS</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/posts title=Archives><ion-icon name=archive></ion-icon>Archives</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/categories title="All Categories"><ion-icon name=grid></ion-icon>All Categories</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/tags title="All Tags"><ion-icon name=pricetags></ion-icon>All Tags</a></li></ul></div><section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4"><div role=link tabindex=0 class="text-sm font-semibold cursor-pointer hover:underline" @click="flip = !flip" title=About>About</div><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href=/index.xml title=RSS><ion-icon class=group-hover:text-primary-content name=logo-rss></ion-icon></a><div class="dropdown dropdown-end dropdown-hover"><div tabindex=0 role=button class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" aria-label="Select an option"><ion-icon class="group-hover:text-primary-content text-xl" name=menu></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-xl"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/posts title=Archives><ion-icon name=archive></ion-icon>Archives</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/categories title="All Categories"><ion-icon name=grid></ion-icon>All Categories</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/tags title="All Tags"><ion-icon name=pricetags></ion-icon>All Tags</a></li></ul></div></section></div></nav><div class=flip-container :class="{ 'flip-it': flip }"><div class=flipper><div class=front><div class=container><div class="lg:grid lg:grid-cols-4 gap-4 mt-4 px-4"><div class="hidden lg:block"></div><div class=lg:col-span-2><article class="mx-auto prose prose-quoteless dark:prose-invert" id=dream-single-post-main itemscope itemtype=http://schema.org/Article><meta itemprop=name content="PostgreSQL ODBC"><meta itemprop=description content="å®‰è£…unixODBC å®‰è£…PostgreSQL ODBCé©±åŠ¨ æ£€æŸ¥é©±åŠ¨é…ç½® æ·»åŠ æ•°æ®æº ä¿®æ”¹PostgrsSQLè®¤è¯æ–¹å¼ éªŒè¯ ODBC è¿æ¥æ•°æ®åº“ å®‰è£…unixODBC ç›´æ¥ä¸‹è½½å®˜ç½‘çš„æºç ç¼–è¯‘å®‰è£…å°±å¯ä»¥äº†ï¼Œæ¯”è¾ƒç®€å•
curl -O http://www.unixodbc.org/unixODBC-2.3.4.tar.gz tar xvf unixODBC-2.3.4.tar.gz cd unixODBC-2.3.4 ./configure --sysconfdir=/etc make make install æˆ–è€…ç›´æ¥
yum install unixODBC å®‰è£…PostgreSQL ODBCé©±åŠ¨ æŒ‰ç…§ä¹‹å‰æ·»åŠ æºçš„æ–¹å¼å®‰è£…PostgreSQLï¼Œç°åœ¨å¯ä»¥ç›´æ¥å®‰è£…ODBCé©±åŠ¨. æ·»åŠ æºæ–¹æ³•
yum install http://yum.postgresql.org/9.5/redhat/rhel-7-x86_64/pgdg-redhat95-9.5-2.noarch.rpm"><meta itemprop=datePublished content="2016-10-12T21:32:48+00:00"><meta itemprop=dateModified content="2016-10-12T21:32:48+00:00"><meta itemprop=wordCount content="503"><meta itemprop=image content="https://caisong.github.io/img/background.jpg"><meta itemprop=keywords content="Postgresql,Odbc"><header><h1 itemprop=headline>PostgreSQL ODBC</h1><p class=text-sm>Wednesday, Oct 12, 2016
| <span>3 minute read</span>
| <span>Updated at
Wednesday, Oct 12, 2016</span></p><div class="flex justify-between"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center gap-2"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://x.com/intent/post?text=PostgreSQL%20ODBC&amp;url=https://caisong.github.io/posts/postgresql-odbc/" target=_blank rel="noopener noreferrer" title="Share on X"><ion-icon class=group-hover:text-primary-content name=logo-x></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://facebook.com/sharer/sharer.php?u=https://caisong.github.io/posts/postgresql-odbc/" target=_blank rel="noopener noreferrer" title="Share on Facebook"><ion-icon class=group-hover:text-primary-content name=logo-facebook></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://wa.me/?text=PostgreSQL%20ODBC%20https://caisong.github.io/posts/postgresql-odbc/" target=_blank rel="noopener noreferrer" title="Share on WhatsApp"><ion-icon class=group-hover:text-primary-content name=logo-whatsapp></ion-icon></a></div></div></header><section id=dream-single-post-content itemprop=articleBody><ul><li>å®‰è£…unixODBC</li><li>å®‰è£…PostgreSQL ODBCé©±åŠ¨</li><li>æ£€æŸ¥é©±åŠ¨é…ç½®</li><li>æ·»åŠ æ•°æ®æº</li><li>ä¿®æ”¹PostgrsSQLè®¤è¯æ–¹å¼</li><li>éªŒè¯</li><li>ODBC è¿æ¥æ•°æ®åº“</li></ul><h2 id=å®‰è£…unixodbc>å®‰è£…unixODBC</h2><p>ç›´æ¥ä¸‹è½½å®˜ç½‘çš„æºç ç¼–è¯‘å®‰è£…å°±å¯ä»¥äº†ï¼Œæ¯”è¾ƒç®€å•</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -O http://www.unixodbc.org/unixODBC-2.3.4.tar.gz
</span></span><span style=display:flex><span>tar xvf unixODBC-2.3.4.tar.gz
</span></span><span style=display:flex><span>cd unixODBC-2.3.4
</span></span><span style=display:flex><span>./configure --sysconfdir<span style=color:#f92672>=</span>/etc
</span></span><span style=display:flex><span>make
</span></span><span style=display:flex><span>make install
</span></span></code></pre></div><p>æˆ–è€…ç›´æ¥</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum install unixODBC
</span></span></code></pre></div><h2 id=å®‰è£…postgresql-odbcé©±åŠ¨>å®‰è£…PostgreSQL ODBCé©±åŠ¨</h2><p>æŒ‰ç…§ä¹‹å‰æ·»åŠ æºçš„æ–¹å¼å®‰è£…PostgreSQLï¼Œç°åœ¨å¯ä»¥ç›´æ¥å®‰è£…ODBCé©±åŠ¨.
æ·»åŠ æºæ–¹æ³•</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum install http://yum.postgresql.org/9.5/redhat/rhel-7-x86_64/pgdg-redhat95-9.5-2.noarch.rpm
</span></span></code></pre></div><p>å®‰è£…é©±åŠ¨</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum install postgresql95-odbc postgresql95-odbc-debuginfo -y
</span></span></code></pre></div><h2 id=æ£€æŸ¥é©±åŠ¨é…ç½®>æ£€æŸ¥é©±åŠ¨é…ç½®</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>odbcinst -q -d
</span></span></code></pre></div><p>è‹¥æ²¡æœ‰å‘ç°<code>PostgreSQL</code>ç›¸å…³çš„é©±åŠ¨é¡¹,é€šè¿‡<code>odbcinst -j</code>æŸ¥çœ‹odbcé…ç½®ä¿¡æ¯ï¼Œå†æŸ¥çœ‹å¯¹åº”_Drivers_é¡¹å¯¹åº”æ–‡ä»¶å†…å®¹. æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>[ODBC Driver for PostgresSQL]
</span></span><span style=display:flex><span>Description = ODBC Driver for PostgreSQL
</span></span><span style=display:flex><span>Driver = /usr/pgsql-9.5/lib/psqlodbc.so
</span></span><span style=display:flex><span>Setup = /usr/lib64/libodbcpsqlS.so
</span></span><span style=display:flex><span>FileUsage = 1
</span></span></code></pre></div><p>è‹¥<code>odbcinst.ini</code>æ–‡ä»¶ä¸ºç©ºï¼Œå¯æ‰‹åŠ¨æ›´æ”¹</p><h2 id=æ·»åŠ æ•°æ®æº>æ·»åŠ æ•°æ®æº</h2><p>æ ¹æ®<code>odbcinst -j</code>æŸ¥è¯¢çš„é…ç½®ï¼Œä¿®æ”¹<code>SYSTEM DATA SOURCES</code>å¯¹åº”çš„æ•°æ®é…ç½®æ–‡ä»¶</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>[mydb]
</span></span><span style=display:flex><span>Description         = PostgreSQL connection to SallyDB
</span></span><span style=display:flex><span>Driver              = ODBC Driver for PostgresSQL
</span></span><span style=display:flex><span>Database            = caisong
</span></span><span style=display:flex><span>Servername          = 127.0.0.1
</span></span><span style=display:flex><span>UserName            = caisong
</span></span><span style=display:flex><span>Password            = 123456
</span></span><span style=display:flex><span>Port                = 5432
</span></span><span style=display:flex><span>Protocol            = 9.5
</span></span><span style=display:flex><span>ReadOnly            = No
</span></span><span style=display:flex><span>RowVersioning       = No
</span></span><span style=display:flex><span>ShowSystemTables    = No
</span></span><span style=display:flex><span>ConnSettings        =
</span></span></code></pre></div><p><strong>Driver é¡¹çš„å€¼åŠ¡å¿…ä¸é©±åŠ¨é…ç½®æ–‡ä»¶ä¸‹çš„å€¼ä¸€è‡´</strong></p><h2 id=ä¿®æ”¹postgrssqlè®¤è¯æ–¹å¼>ä¿®æ”¹PostgrsSQLè®¤è¯æ–¹å¼</h2><p>PostgreSQLé»˜è®¤æœ¬åœ°è®¤è¯æ–¹å¼ä¸º<code>peer</code>ï¼Œè¿œç¨‹è¿æ¥è®¤è¯æ–¹å¼ä¸º<code>ident</code> å…·ä½“å·®åˆ«ï¼Œè¯·å‚ç…§<a href=https://www.postgresql.org/docs/9.6/static/auth-methods.html title=auth-methods>auth-methods</a> ä¿®æ”¹host-based authenticationè®¤è¯æ–‡ä»¶ï¼Œå…¶è·¯å¾„é…ç½®åœ¨DBä¸­ï¼Œå¯é€šè¿‡SQLæŸ¥è¯¢</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> name, setting <span style=color:#66d9ef>from</span> pg_settings <span style=color:#66d9ef>where</span> category<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;File Locations&#39;</span>;
</span></span></code></pre></div><p>é»˜è®¤é…ç½®å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>name        |                 setting
</span></span><span style=display:flex><span>-------------------+-----------------------------------------
</span></span><span style=display:flex><span>config_file       | /var/lib/pgsql/9.5/data/postgresql.conf
</span></span><span style=display:flex><span>data_directory    | /var/lib/pgsql/9.5/data
</span></span><span style=display:flex><span>external_pid_file |
</span></span><span style=display:flex><span>hba_file          | /var/lib/pgsql/9.5/data/pg_hba.conf
</span></span><span style=display:flex><span>ident_file        | /var/lib/pgsql/9.5/data/pg_ident.conf
</span></span><span style=display:flex><span>(5 rows)
</span></span></code></pre></div><p>ä¿®æ”¹<code># IPv4 local connections</code> ä¸‹ä¸€è¡Œä¸­çš„<del>ident</del> ä¸º _md5_å°±å¯ä»¥äº†</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span># IPv4 local connections:
</span></span><span style=display:flex><span>host    all             all             127.0.0.1/32            md5
</span></span></code></pre></div><p>ä¿®æ”¹å®Œæˆä¹‹åéœ€è¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ å¯ä»¥ä½¿ç”¨<code>pg_ctl reload</code>å‘½ä»¤ï¼Œé»˜è®¤è¯¥å‘½ä»¤ä¸åœ¨<code>PATH</code>ä¸‹ï¼Œå…¶è·¯å¾„ä¸º<code>/usr/pgsql-9.5/bin/</code>,æˆ–è€…ç›´æ¥é‡å¯æœåŠ¡</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl restart postgresql-9.5
</span></span></code></pre></div><h2 id=éªŒè¯>éªŒè¯</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>isql mydb
</span></span></code></pre></div><p>å¦‚æœå‡ºç°é”™è¯¯ï¼Œæ·»åŠ <code>-v</code>é‡æ–°æ‰§è¡Œå‘½ä»¤ï¼Œæ­¤æ—¶èƒ½æ˜¾ç¤ºå…·ä½“é”™è¯¯äº†ã€‚</p><h2 id=odbc-è¿æ¥æ•°æ®åº“>ODBC è¿æ¥æ•°æ®åº“</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e> * testing unixODBC
</span></span></span><span style=display:flex><span><span style=color:#75715e> * the code from unixODBC website
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdlib.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;odbc/sql.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;odbc/sqlext.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;odbc/sqltypes.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>SQLHENV V_OD_Env;                   <span style=color:#75715e>// Handle ODBC environment
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>long</span> V_OD_erg;                      <span style=color:#75715e>// result of functions
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>SQLHDBC V_OD_hdbc;                  <span style=color:#75715e>// Handle connection
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> V_OD_stat[<span style=color:#ae81ff>10</span>];                 <span style=color:#75715e>// Status SQL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>SQLINTEGER V_OD_err,V_OD_rowanz,V_OD_id;
</span></span><span style=display:flex><span>SQLSMALLINT V_OD_mlen,V_OD_colanz;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> V_OD_msg[<span style=color:#ae81ff>200</span>],V_OD_buffer[<span style=color:#ae81ff>200</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc,<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>argv[])
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>        SQLHSTMT V_OD_hstmt;
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 1. allocate Environment handle and register version
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        V_OD_erg<span style=color:#f92672>=</span><span style=color:#a6e22e>SQLAllocHandle</span>(SQL_HANDLE_ENV,SQL_NULL_HANDLE,<span style=color:#f92672>&amp;</span>V_OD_Env);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ((V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS) <span style=color:#f92672>&amp;&amp;</span> (V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS_WITH_INFO))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Error AllocHandle</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>exit</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        V_OD_erg<span style=color:#f92672>=</span><span style=color:#a6e22e>SQLSetEnvAttr</span>(V_OD_Env, SQL_ATTR_ODBC_VERSION, (<span style=color:#66d9ef>void</span><span style=color:#f92672>*</span>)SQL_OV_ODBC3, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ((V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS) <span style=color:#f92672>&amp;&amp;</span> (V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS_WITH_INFO))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Error SetEnv</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_ENV, V_OD_Env);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>exit</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 2. allocate connection handle, set timeout
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        V_OD_erg <span style=color:#f92672>=</span> <span style=color:#a6e22e>SQLAllocHandle</span>(SQL_HANDLE_DBC, V_OD_Env, <span style=color:#f92672>&amp;</span>V_OD_hdbc);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ((V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS) <span style=color:#f92672>&amp;&amp;</span> (V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS_WITH_INFO))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Error AllocHDB %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_erg);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_ENV, V_OD_Env);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>exit</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SQLSetConnectAttr</span>(V_OD_hdbc, SQL_LOGIN_TIMEOUT, (SQLPOINTER <span style=color:#f92672>*</span>)<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 3. Connect to the datasource &#34;mydb&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        V_OD_erg <span style=color:#f92672>=</span> <span style=color:#a6e22e>SQLDriverConnect</span>(V_OD_hdbc,
</span></span><span style=display:flex><span>                                    NULL,
</span></span><span style=display:flex><span>                                    <span style=color:#e6db74>&#34;DRIVER={ODBC Driver for PostgresSQL};Server=127.0.0.1;Port=5432;Database=caisong;Uid=caisong;Pwd=123456;&#34;</span>,
</span></span><span style=display:flex><span>                                    SQL_NTS,
</span></span><span style=display:flex><span>                                    V_OD_buffer,
</span></span><span style=display:flex><span>                                    <span style=color:#ae81ff>200</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&amp;</span>V_OD_mlen,
</span></span><span style=display:flex><span>                                    SQL_DRIVER_NOPROMPT);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//a. direct connect into datasource
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>/*V_OD_erg = SQLConnect(V_OD_hdbc, (SQLCHAR*) &#34;mydb&#34;, SQL_NTS,
</span></span></span><span style=display:flex><span><span style=color:#75715e>                                         (SQLCHAR*) &#34;caisong&#34;, SQL_NTS,
</span></span></span><span style=display:flex><span><span style=color:#75715e>                                        (SQLCHAR*) &#34;123456&#34;, SQL_NTS);
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//b. manual connect into target db
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> ((V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS) <span style=color:#f92672>&amp;&amp;</span> (V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS_WITH_INFO))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Error SQLConnect %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_erg);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLGetDiagRec</span>(SQL_HANDLE_DBC, V_OD_hdbc,<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>                              V_OD_stat, <span style=color:#f92672>&amp;</span>V_OD_err,V_OD_msg,<span style=color:#ae81ff>100</span>,<span style=color:#f92672>&amp;</span>V_OD_mlen);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;%s (%d)</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_msg,V_OD_err);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_ENV, V_OD_Env);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>exit</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Connected !</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>        V_OD_erg<span style=color:#f92672>=</span><span style=color:#a6e22e>SQLAllocHandle</span>(SQL_HANDLE_STMT, V_OD_hdbc, <span style=color:#f92672>&amp;</span>V_OD_hstmt);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ((V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS) <span style=color:#f92672>&amp;&amp;</span> (V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS_WITH_INFO))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Fehler im AllocStatement %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_erg);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLGetDiagRec</span>(SQL_HANDLE_DBC, V_OD_hdbc,<span style=color:#ae81ff>1</span>, V_OD_stat,<span style=color:#f92672>&amp;</span>V_OD_err,V_OD_msg,<span style=color:#ae81ff>100</span>,<span style=color:#f92672>&amp;</span>V_OD_mlen);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;%s (%d)</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_msg,V_OD_err);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLDisconnect</span>(V_OD_hdbc);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_DBC,V_OD_hdbc);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_ENV, V_OD_Env);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>exit</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SQLBindCol</span>(V_OD_hstmt,<span style=color:#ae81ff>1</span>,SQL_C_CHAR, <span style=color:#f92672>&amp;</span>V_OD_buffer,<span style=color:#ae81ff>150</span>,<span style=color:#f92672>&amp;</span>V_OD_err);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SQLBindCol</span>(V_OD_hstmt,<span style=color:#ae81ff>2</span>,SQL_C_ULONG,<span style=color:#f92672>&amp;</span>V_OD_id,<span style=color:#ae81ff>150</span>,<span style=color:#f92672>&amp;</span>V_OD_err);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        V_OD_erg<span style=color:#f92672>=</span><span style=color:#a6e22e>SQLExecDirect</span>(V_OD_hstmt,<span style=color:#e6db74>&#34;SELECT name, setting FROM pg_settings where category=&#39;File Locations&#39;&#34;</span>,SQL_NTS);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ((V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS) <span style=color:#f92672>&amp;&amp;</span> (V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS_WITH_INFO))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Error in Select %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_erg);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLGetDiagRec</span>(SQL_HANDLE_DBC, V_OD_hdbc,<span style=color:#ae81ff>1</span>, V_OD_stat,<span style=color:#f92672>&amp;</span>V_OD_err,V_OD_msg,<span style=color:#ae81ff>100</span>,<span style=color:#f92672>&amp;</span>V_OD_mlen);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;%s (%d)</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_msg,V_OD_err);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_STMT,V_OD_hstmt);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLDisconnect</span>(V_OD_hdbc);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_DBC,V_OD_hdbc);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_ENV, V_OD_Env);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>exit</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        V_OD_erg<span style=color:#f92672>=</span><span style=color:#a6e22e>SQLNumResultCols</span>(V_OD_hstmt,<span style=color:#f92672>&amp;</span>V_OD_colanz);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ((V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS) <span style=color:#f92672>&amp;&amp;</span> (V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS_WITH_INFO))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_STMT,V_OD_hstmt);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLDisconnect</span>(V_OD_hdbc);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_DBC,V_OD_hdbc);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_ENV, V_OD_Env);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>exit</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Number of Columns %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_colanz);
</span></span><span style=display:flex><span>        V_OD_erg<span style=color:#f92672>=</span><span style=color:#a6e22e>SQLRowCount</span>(V_OD_hstmt,<span style=color:#f92672>&amp;</span>V_OD_rowanz);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ((V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS) <span style=color:#f92672>&amp;&amp;</span> (V_OD_erg <span style=color:#f92672>!=</span> SQL_SUCCESS_WITH_INFO))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Number ofRowCount %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_erg);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_STMT,V_OD_hstmt);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLDisconnect</span>(V_OD_hdbc);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_DBC,V_OD_hdbc);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_ENV, V_OD_Env);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>exit</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Number of Rows %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_rowanz);
</span></span><span style=display:flex><span>        V_OD_erg<span style=color:#f92672>=</span><span style=color:#a6e22e>SQLFetch</span>(V_OD_hstmt);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span>(V_OD_erg <span style=color:#f92672>!=</span> SQL_NO_DATA)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Result: %d %s</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,V_OD_id,V_OD_buffer);
</span></span><span style=display:flex><span>                V_OD_erg<span style=color:#f92672>=</span><span style=color:#a6e22e>SQLFetch</span>(V_OD_hstmt);
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_STMT,V_OD_hstmt);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SQLDisconnect</span>(V_OD_hdbc);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_DBC,V_OD_hdbc);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SQLFreeHandle</span>(SQL_HANDLE_ENV, V_OD_Env);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å…¨æ–‡å®Œ</p></section><div class=divider></div><div class="flex flex-col md:flex-row justify-between gap-4 py-4"><a class="group btn btn-outline" href=/posts/atom-config/ title="atom config è®¾ç½®"><ion-icon name=chevron-back></ion-icon><div class="inline-flex flex-col items-start"><span class="text-base-content/60 group-hover:text-neutral-content/60 text-xs font-normal">Previous page</span>
<span class="max-w-48 truncate">atom config è®¾ç½®</span></div></a><a class="group btn btn-outline" href=/posts/install/ title="PostgreSQL å®‰è£…"><div class="inline-flex flex-col items-end"><span class="text-base-content/60 group-hover:text-neutral-content/60 text-xs font-normal">Next page</span>
<span class="max-w-48 truncate">PostgreSQL å®‰è£…</span></div><ion-icon name=chevron-forward></ion-icon></a></div></article></div><div class="hidden lg:flex lg:flex-col lg:items-end"><nav id=TableOfContents><ul><li><a href=#å®‰è£…unixodbc>å®‰è£…unixODBC</a></li><li><a href=#å®‰è£…postgresql-odbcé©±åŠ¨>å®‰è£…PostgreSQL ODBCé©±åŠ¨</a></li><li><a href=#æ£€æŸ¥é©±åŠ¨é…ç½®>æ£€æŸ¥é©±åŠ¨é…ç½®</a></li><li><a href=#æ·»åŠ æ•°æ®æº>æ·»åŠ æ•°æ®æº</a></li><li><a href=#ä¿®æ”¹postgrssqlè®¤è¯æ–¹å¼>ä¿®æ”¹PostgrsSQLè®¤è¯æ–¹å¼</a></li><li><a href=#éªŒè¯>éªŒè¯</a></li><li><a href=#odbc-è¿æ¥æ•°æ®åº“>ODBC è¿æ¥æ•°æ®åº“</a></li></ul></nav></div></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>Â© 2016 - 2025 Caisong's Blog</p><p class=text-sm>ğŸŒ±
<span class=text-base-content/60>Powered by <a class=hover:underline href=https://gohugo.io/ target=_blank>Hugo</a> with theme
<a class=hover:underline href=https://github.com/g1eny0ung/hugo-theme-dream target=_blank>Dream</a>.</span></p></div><div x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center h-[32px] px-2 gap-2 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div><div class=back><div class=container><div class="dream-grid dream-grid-about"><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><article class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl dark:border dark:border-base-content/30"><div class=card-body><div class=card-title>About Me</div><div class="prose dark:prose-invert"><p>å¤§é¾„ç¨‹åºå‘˜ï¼Œå–œæ¬¢æŠ˜è…¾å„ç§ç¯å¢ƒéƒ¨ç½²ã€è½¯ä»¶åº”ç”¨ã€‚</p><p>åšå®¢è®°å½•æ—¥å¸¸ã€‚</p></div></div></article></div></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>Â© 2016 - 2025 Caisong's Blog</p><p class=text-sm>ğŸŒ±
<span class=text-base-content/60>Powered by <a class=hover:underline href=https://gohugo.io/ target=_blank>Hugo</a> with theme
<a class=hover:underline href=https://github.com/g1eny0ung/hugo-theme-dream target=_blank>Dream</a>.</span></p></div><div x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center h-[32px] px-2 gap-2 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div></div></div><script>window.lightTheme="emerald",window.darkTheme="forest"</script><script src=https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin=anonymous></script><script src=/js/grid.min.js></script><script src=/js/main.min.js></script><script type=module>
      import mediumZoom from 'https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/+esm';
      mediumZoom('#dream-single-post-content img')
    </script><script type=module src=https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js></script><script nomodule src=https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js></script></body></html>