<!doctype html><html lang=en-us x-data :class=$store.darkMode.class() :data-theme=$store.darkMode.theme()><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Home | Caisong's Blog</title>
<link rel=canonical href=https://caisong.github.io/><meta name=author content="Cai Song"><meta name=description content><meta name=generator content="Hugo 0.140.2"><meta property="og:url" content="https://caisong.github.io/"><meta property="og:site_name" content="Caisong's Blog"><meta property="og:title" content="Caisong's Blog"><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><meta property="og:image" content="https://caisong.github.io/img/background.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://caisong.github.io/img/background.jpg"><meta name=twitter:title content="Caisong's Blog"><link rel=stylesheet href=/css/output.min.css><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script></head><body x-data="{
    flip: false,
  }"><div id=dream-global-bg></div><nav x-data="{ isSticky: false }" x-init="window.addEventListener('scroll', () => { isSticky = window.scrollY > 30 })" class="sticky top-0 z-30 mt-4 lg:mt-8 py-4" :class="{ 'bg-base-100 shadow-lg dark:border-b dark:border-base-content/30': isSticky }"><div class="container flex justify-between px-4"><section class="flex items-center gap-4"><div class="avatar cursor-pointer hover:online" @click="flip = !flip" title="Flip it!"><div class="h-10 rounded-full"><img src=/img/avatar.png alt="A blog about all things technical."></div></div><div><a href=https://caisong.github.io/ class="text-lg font-semibold cursor-pointer">A blog about all things technical.</a></div></section><div class="dropdown dropdown-end sm:hidden"><div tabindex=0 role=button class="btn btn-ghost btn-square" aria-label="Select an option"><ion-icon name=menu class=text-2xl></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-md"><li><div role=link tabindex=0 class="inline-flex items-center p-2 cursor-pointer" @click="flip = !flip" title=About><ion-icon name=information-circle></ion-icon>About</div></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/index.xml title=RSS><ion-icon name=logo-rss></ion-icon>RSS</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/posts title=Archives><ion-icon name=archive></ion-icon>Archives</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/categories title="All Categories"><ion-icon name=grid></ion-icon>All Categories</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/tags title="All Tags"><ion-icon name=pricetags></ion-icon>All Tags</a></li></ul></div><section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4"><div role=link tabindex=0 class="text-sm font-semibold cursor-pointer hover:underline" @click="flip = !flip" title=About>About</div><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href=/index.xml title=RSS><ion-icon class=group-hover:text-primary-content name=logo-rss></ion-icon></a><div class="dropdown dropdown-end dropdown-hover"><div tabindex=0 role=button class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" aria-label="Select an option"><ion-icon class="group-hover:text-primary-content text-xl" name=menu></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-xl"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/posts title=Archives><ion-icon name=archive></ion-icon>Archives</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/categories title="All Categories"><ion-icon name=grid></ion-icon>All Categories</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/tags title="All Tags"><ion-icon name=pricetags></ion-icon>All Tags</a></li></ul></div></section></div></nav><div class=flip-container :class="{ 'flip-it': flip }"><div class=flipper><div class=front><div class=container><div class=dream-grid><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/postgresql-odbc/><div class=card-body><h2 class=card-title>PostgreSQL ODBC</h2><p class="date text-base-content/60">Wednesday, Oct 12, 2016</p><ul><li>å®‰è£…unixODBC</li><li>å®‰è£…PostgreSQL ODBCé©±åŠ¨</li><li>æ£€æŸ¥é©±åŠ¨é…ç½®</li><li>æ·»åŠ æ•°æ®æº</li><li>ä¿®æ”¹PostgrsSQLè®¤è¯æ–¹å¼</li><li>éªŒè¯</li><li>ODBC è¿æ¥æ•°æ®åº“</li></ul><h2 id=å®‰è£…unixodbc>å®‰è£…unixODBC</h2><p>ç›´æ¥ä¸‹è½½å®˜ç½‘çš„æºç ç¼–è¯‘å®‰è£…å°±å¯ä»¥äº†ï¼Œæ¯”è¾ƒç®€å•</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -O http://www.unixodbc.org/unixODBC-2.3.4.tar.gz
</span></span><span style=display:flex><span>tar xvf unixODBC-2.3.4.tar.gz
</span></span><span style=display:flex><span>cd unixODBC-2.3.4
</span></span><span style=display:flex><span>./configure --sysconfdir<span style=color:#f92672>=</span>/etc
</span></span><span style=display:flex><span>make
</span></span><span style=display:flex><span>make install
</span></span></code></pre></div><p>æˆ–è€…ç›´æ¥</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum install unixODBC
</span></span></code></pre></div><h2 id=å®‰è£…postgresql-odbcé©±åŠ¨>å®‰è£…PostgreSQL ODBCé©±åŠ¨</h2><p>æŒ‰ç…§ä¹‹å‰æ·»åŠ æºçš„æ–¹å¼å®‰è£…PostgreSQLï¼Œç°åœ¨å¯ä»¥ç›´æ¥å®‰è£…ODBCé©±åŠ¨.
æ·»åŠ æºæ–¹æ³•</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum install http://yum.postgresql.org/9.5/redhat/rhel-7-x86_64/pgdg-redhat95-9.5-2.noarch.rpm
</span></span></code></pre></div><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>3 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/install/><div class=card-body><h2 class=card-title>PostgreSQL å®‰è£…</h2><p class="date text-base-content/60">Wednesday, Oct 12, 2016</p><ul><li>å®‰è£…</li><li>æ·»åŠ ç”¨æˆ·å’Œæ•°æ®åº“</li><li>ç™»é™†æ•°æ®åº“</li><li>å¸¸ç”¨æ§åˆ¶å°å‘½ä»¤</li><li>åŸºæœ¬SQLæ“ä½œ</li><li>å¤‡ä»½ä¸æ¢å¤</li></ul><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>1 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/shell-2/><div class=card-body><h2 class=card-title>Shellå‘½ä»¤è¡Œå¿«æ·é”®</h2><p class="date text-base-content/60">Thursday, Jul 28, 2016</p><ul><li>C-a : å…‰æ ‡å›åˆ°å‘½ä»¤è¡Œé¦–ï¼ˆa:ahead)</li><li>C-e : å…‰æ ‡å›åˆ°å‘½ä»¤è¡Œå°¾ï¼ˆe:end)</li><li>C-b : å…‰æ ‡åé€€ä¸€ä¸ªå­—ç¬¦ï¼ˆb:backward)</li><li>C-f : å…‰æ ‡å›åˆ°å‘½ä»¤è¡Œé¦–ï¼ˆf:forward)</li><li>C-p : ä¸Šä¸€ä¸ªä½¿ç”¨çš„å†å²å‘½ä»¤ (p: previous)</li><li>C-n : ä¸‹ä¸€ä¸ªä½¿ç”¨çš„å†å²å‘½ä»¤ (n: next)</li><li>C-r : å¿«é€Ÿæ£€ç´¢å†å²å‘½ä»¤ (r: retrieve)</li><li>C-h : åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</li><li>C-d : åˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</li><li>C-w : åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªword</li><li>C-k : åˆ é™¤å…‰æ ‡åçš„æ‰€æœ‰å­—ç¬¦</li><li>C-u : åˆ é™¤å‘½ä»¤è¡Œå­—ç¬¦</li><li>C-y : ç²˜è´´ C-u, C-K, C-Wåˆ é™¤çš„æ–‡æœ¬</li><li>C-t : ä¸å‰ä¸€å­—ç¬¦äº¤æ¢</li><li>C-i : Tab</li><li>C-m : Enter</li><li>C-o : Enter</li></ul><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>1 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/mssql/><div class=card-body><h2 class=card-title>MSSQLé‡åˆ°é—®æ¡è®°å½•</h2><p class="date text-base-content/60">Sunday, Jul 24, 2016</p><ul><li>ç™»é™†è¿æ¥å¤±è´¥</li><li>å¯åŠ¨saç™»é™†</li><li>æœåŠ¡å™¨æ”¹ä¸ºIPåœ°å€ç™»é™†</li><li>é«˜ç‰ˆæœ¬æ•°æ®åº“æ¢å¤åˆ°ä½ç‰ˆæœ¬æ•°æ®åº“</li><li>è‡ªå¢é•¿åˆ—æ’å…¥æŒ‡å®šå€¼</li><li>select into from ä¸ insert into select ç”¨æ³•ä¸åŒºåˆ«</li><li>æ€»ç»“</li></ul><p>è®°å½•ä½¿ç”¨MSSQLä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚æ–°æ‰‹ï¼Œå¤§å¤šæ•°æœç´¢è§£å†³ï¼Œå…¨éƒ¨å®é™…æ“ä½œè¿‡ï¼Œå¦‚æœä¸èƒ½è§£å†³æ‚¨çš„é—®é¢˜ï¼Œè¯·è§è°…ã€‚
ps. è‡ªå·±ç”µè„‘æ²¡è£…MSSQLï¼Œå› æ­¤æ²¡æœ‰æˆªå›¾ã€‚</p><h2 id=ç™»é™†è¿æ¥å¤±è´¥>ç™»é™†è¿æ¥å¤±è´¥</h2><p>é”™è¯¯æè¿°ï¼šæœªæ‰¾åˆ°æˆ–æ— æ³•è®¿é—®æœåŠ¡å™¨.è¯·éªŒè¯å®ä¾‹åç§°æ˜¯å¦æ­£ç¡®å¹¶ä¸”SQL SERVERå·²é…ç½®å…è®¸è¿œç¨‹é“¾æ¥.(provide:å‘½åç®¡é“æä¾›ç¨‹åº,error:40 -æ— æ³•æ‰“å¼€åˆ°SQL Serverçš„è¿æ¥)(Microsoft SQL Server,é”™è¯¯:2)
è§£å†³åŠæ³•ï¼š</p><ol><li>å¼€å§‹èœå•ï¼ŒSQL Server 20XXç›®å½•ä¸‹æ‰¾åˆ° <code>SQL Server Configuration Manager</code></li><li>SQL Server ã€Versionã€‘ æœåŠ¡ï¼Œå¯åŠ¨</li></ol><blockquote><ul><li>å¯èƒ½å­˜åœ¨å¤šä¸ªæœåŠ¡ï¼Œè¯·å¯åŠ¨å¯¹åº”ä½ è¿æ¥åçš„é‚£ä¸ªæœåŠ¡</li><li>å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œè¯·é€‰æ‹©å±æ€§â€”â€”ç™»é™†â€”â€”æœ¬åœ°ç³»ç»Ÿè´¦æˆ·ï¼Œå†æ¬¡é‡æ–°å¯åŠ¨</li></ul></blockquote><h2 id=å¯åŠ¨saç™»é™†>å¯åŠ¨saç™»é™†</h2><p>é—®é¢˜æè¿°ï¼šä¸€èˆ¬æœ¬åœ°ä½¿ç”¨çš„windowsè´¦æˆ·ï¼Œç‰¹åˆ«ç¬¬ä¸€æ¬¡å®‰è£…æ—¶æ²¡æ³¨æ„ï¼Œå°±æ²¡ç”¨è®¾ç½®saå¯†ç ï¼Œä¹Ÿå°±æ— æ³•saç™»é™†
è§£å†³åŠæ³•ï¼š</p><ol><li>windowsç™»é™†</li><li>åœ¨è¿æ¥ä¸Šå³å‡»ï¼Œå±æ€§â€”â€”å®‰å…¨æ€§â€”â€”SQL Server å’Œwindowsèº«ä»½éªŒè¯æ¨¡å¼ã€‚ä¿å­˜ï¼Œè¿”å›</li><li>å±•å¼€è¿æ¥ï¼Œå®‰å…¨æ€§â€”â€”ç™»å½•åâ€”â€”saï¼Œè®¾ç½®å¯†ç ã€‚åˆ‡æ¢åˆ°çŠ¶æ€ï¼Œç™»é™†é€‰æ‹©<code>å¯ç”¨</code></li></ol><h2 id=æœåŠ¡å™¨æ”¹ä¸ºipåœ°å€ç™»é™†>æœåŠ¡å™¨æ”¹ä¸ºIPåœ°å€ç™»é™†</h2><p>é—®é¢˜æè¿°ï¼šä¸€èˆ¬å®‰è£…å®Œæˆä¹‹åï¼Œé‡‡ç”¨çš„æ˜¯windowsä¸»æœºå+æœåŠ¡åçš„è¿æ¥æ–¹å¼ï¼Œè€ŒéIPåœ°å€ï¼Œå…¶ä»–ç”µè„‘æ— æ³•è®¿é—®
è§£å†³åŠæ³•ï¼š</p><ol><li>å¯åŠ¨saç™»é™†</li><li>å¼€å§‹èœå•ï¼ŒSQL Server 20XXç›®å½•ä¸‹æ‰¾åˆ° <code>SQL Server Configuration Manager</code></li><li>SQL Server ã€Versionã€‘ç½‘ç»œé…ç½®ï¼Œå¯ç”¨<code>Namedpipes</code>å’Œ<code>TCP/IP</code></li><li><code>TCP/IP</code>å±æ€§ï¼ŒIPåœ°å€ï¼Œé…ç½®##IP1##åœ°å€ï¼ˆIP2æœ¬åœ°ï¼‰ï¼Œ##IPALL##TCPç«¯å£</li><li>é‡å¯SQL Server æœåŠ¡ï¼Œè¿æ¥</li></ol><h2 id=é«˜ç‰ˆæœ¬æ•°æ®åº“æ¢å¤åˆ°ä½ç‰ˆæœ¬æ•°æ®åº“>é«˜ç‰ˆæœ¬æ•°æ®åº“æ¢å¤åˆ°ä½ç‰ˆæœ¬æ•°æ®åº“</h2><p>é—®é¢˜æè¿°ï¼š é«˜ç‰ˆæœ¬serverç”Ÿæˆçš„å¤‡ä»½æ–‡ä»¶æ— æ³•åœ¨ä½ç‰ˆæœ¬ä¸Šæ¢å¤
è§£å†³åŠæ³•ï¼š</p><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>1 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/vmware/><div class=card-body><h2 class=card-title>vmware è®°å½•</h2><p class="date text-base-content/60">Sunday, Jul 24, 2016</p><h2 id=æ­¤è™šæ‹Ÿæœºæ­£åœ¨ä½¿ç”¨ä¸­å–å¾—è¯¥è™šæ‹Ÿæœºçš„æ‰€æœ‰æƒå¤±è´¥>æ­¤è™šæ‹Ÿæœºæ­£åœ¨ä½¿ç”¨ä¸­ï¼Œå–å¾—è¯¥è™šæ‹Ÿæœºçš„æ‰€æœ‰æƒå¤±è´¥</h2><p>é—®é¢˜æè¿°ï¼šè¯¥é—®é¢˜ä¸€èˆ¬æ˜¯ç”±äºå¼ºåˆ¶å…³é—­vmwareè¿›ç¨‹å¯¼è‡´
è§£å†³æ–¹æ¡ˆï¼šä½ æ‰€é…ç½®çš„è™šæ‹Ÿæœºç›®å½•ä¸‹å­˜åœ¨*.lckæ–‡ä»¶ï¼Œåˆ é™¤å°±å¯ä»¥äº†ã€‚</p><h2 id=centos-å¯åŠ¨æ²¡æœ‰ipv4-åœ°å€>CentOS å¯åŠ¨æ²¡æœ‰IPV4 åœ°å€</h2><p>é—®é¢˜æè¿°ï¼šcentos7è™šæ‹Ÿæœºï¼Œæ²¡æœ‰ipv4åœ°å€ï¼Œæ— æ³•sshè¿æ¥
è§£å†³åŠæ³•ï¼šé»˜è®¤è®¾ç½®æ²¡æœ‰å¼€æœºæ¿€æ´»ç½‘å¡ï¼Œä¿®æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶</p><pre tabindex=0><code>sudo vim /etc/sysconfig/network-scripts/ifcfg-enoXXX #ä¿®æ”¹ONBOOT=yes 
sudo systemctl restart network
</code></pre><h2 id=è™šæ‹Ÿæœºæç¤ºfailed-to-start-lsb-bring-updown-networking>è™šæ‹Ÿæœºæç¤ºFailed to start LSB: Bring up/down networking</h2><p>é—®é¢˜æè¿°ï¼šç½‘ç»œæ— æ³•è¿æ¥ï¼Œé‡å¯networkæç¤ºè¯¥é”™è¯¯<code>Failed to start LSB: Bring up/down networking</code>ã€‚</p><ul><li>æœç´¢åˆ°çš„è§£å†³åŠæ³•ä¸€èˆ¬æ˜¯ç”±äºæ‹·è´ä»–äººçš„è™šæ‹Ÿæœºæ–‡ä»¶å¯¼è‡´ï¼Œéœ€è¦æ›´æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶ä¸­çš„HWADDRå­—æ®µï¼Œæ”¹ä¸ºä½ è‡ªå·±macåœ°å€ã€‚(é’ˆå¯¹CentOS7)</li></ul><pre tabindex=0><code>ip addr show #æŸ¥çœ‹macåœ°å€
sudo vim /etc/sysconfig/network-scripts/ifcfg-enoXXX #ä¿®æ”¹HWADDRå­—æ®µ
</code></pre><ul><li>æˆ‘é‡åˆ°çš„é—®é¢˜æ˜¯ç”±äºå…³é—­äº†<code>VMware NAT Service</code> æœåŠ¡å¯¼è‡´ï¼Œå¯åŠ¨å°±å¯ä»¥äº†</li></ul><p>è°¨æ­¤è®°å½•ï¼Œæ—¥åå†è¡¥å……é‡åˆ°çš„å…¶ä»–é—®é¢˜</p><h2 id=sshé—®é¢˜>sshé—®é¢˜</h2><p>è¯¦è§é„™äººå…³äºsshé—®é¢˜çš„blog</p><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>1 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/%E7%BA%A2%E9%BB%91%E6%A0%91/><div class=card-body><h2 class=card-title>è‡ªå¹³è¡¡äºŒæœç´¢æ ‘â€”â€”çº¢é»‘æ ‘</h2><p class="date text-base-content/60">Monday, Jul 4, 2016</p><h2 id=ä¸»è¦å±æ€§>ä¸»è¦å±æ€§</h2><ol><li>æ‰€æœ‰èŠ‚ç‚¹è¦ä¹ˆçº¢è‰²ï¼Œè¦ä¹ˆé»‘è‰²</li><li>å¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²</li><li>å¶å­èŠ‚ç‚¹ä¸åŒ…å«æ•°æ®</li><li>æ‰€æœ‰éå¶å­èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</li><li>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œé‚£ä¹ˆå®ƒçš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²</li></ol><blockquote><p>ä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹ä¸èƒ½æ˜¯å…¶ä»–çº¢è‰²èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æˆ–è€…çˆ¶èŠ‚ç‚¹</p></blockquote><ol start=6><li>åœ¨ä¸€ä¸ªèŠ‚ç‚¹åˆ°å…¶å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä¸­ï¼Œå¦‚æœæ€»æ˜¯åŒ…å«ç›¸åŒæ•°æ®çš„é»‘è‰²èŠ‚ç‚¹ï¼Œåˆ™è¯¥è·¯å¾„ç›¸æ¯”å…¶ä»–è·¯å¾„æ˜¯æœ€çŸ­çš„ã€‚</li></ol><blockquote><p>ä»æ ‘çš„ä»»ä½•èŠ‚ç‚¹åˆ°å…¶å¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½å…·æœ‰ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ï¼Œæ ‘é‡Œçš„æœ€é•¿è·¯å¾„åˆ™æ˜¯çº¢é»‘äº¤æ›¿èŠ‚ç‚¹è·¯å¾„ï¼Œæ‰€ä»¥æœ€çŸ­è·¯å¾„å¿…ç„¶æ˜¯å…·æœ‰ç›¸åŒæ•°é‡çš„é»‘è‰²èŠ‚ç‚¹â€”â€”åªåŒ…å«é»‘è‰²èŠ‚ç‚¹çš„è·¯å¾„ã€‚å› æ­¤ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„éƒ½ä¸ä¼šè¶…è¿‡æœ€çŸ­è·¯å¾„çš„ä¸¤å€</p></blockquote><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>1 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/ssh%E9%97%AE%E9%A2%98/><div class=card-body><h2 class=card-title>sshé—®é¢˜-Connection closed by foreign host</h2><p class="date text-base-content/60">Thursday, Jun 30, 2016</p><h2 id=é—®é¢˜æè¿°>é—®é¢˜æè¿°</h2><p>ä½¿ç”¨XShell ç™»é™†linuxæ€»æ˜¯å›å¤ï¼š<code>Connection closed by foreign host.</code> æˆ–è€…
<code>Disconnected from remote host</code>ï¼Œ
é€ æˆè¯¥ç°è±¡çš„åŸå› ä¸€èˆ¬æ˜¯ç”±äºsshè¿æ¥é•¿æœŸæ²¡æœ‰æ“ä½œå¯¼è‡´çš„ï¼ˆè¿™ä¹Ÿæ˜¯è¯¯å¯¼æˆ‘çš„ä¸»è¦åŸå› ï¼‰</p><h2 id=åŸå› åŠè§£å†³æ–¹æ¡ˆ>åŸå› åŠè§£å†³æ–¹æ¡ˆ</h2><h3 id=è´¦å·è¢«é™åˆ¶åªå…è®¸ä¸€ä¸ªäººç™»é™†æš‚æ—¶æ²¡é‡åˆ°>è´¦å·è¢«é™åˆ¶åªå…è®¸ä¸€ä¸ªäººç™»é™†ï¼ˆæš‚æ—¶æ²¡é‡åˆ°ï¼‰</h3><h3 id=æ— æ³•ä¿æŒé•¿æœŸè¿æ¥>æ— æ³•ä¿æŒé•¿æœŸè¿æ¥</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo vim /etc/ssh/sshd_config
</span></span></code></pre></div><p>ç»“å°¾æ·»åŠ ä¸¤è¡Œ</p><pre tabindex=0><code>ClientAliveInterval 60
ClientAliveCountMax 3
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># é‡å¯æœåŠ¡</span>
</span></span><span style=display:flex><span>sudo systemctl restart sshd
</span></span></code></pre></div><h3 id=é˜²ç«å¢™åŸå› >é˜²ç«å¢™åŸå› </h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># å…³é—­é˜²ç«å¢™</span>
</span></span><span style=display:flex><span>sudo systemctl stop sshd
</span></span><span style=display:flex><span><span style=color:#75715e># æˆ–è€…æ‰“å¼€22ç«¯å£</span>
</span></span><span style=display:flex><span>sudo iptables -A INPUT -p tcp --dport <span style=color:#ae81ff>22</span> -j ACCEPT
</span></span></code></pre></div><h3 id=hostsdenyæ–‡ä»¶è¢«ç¯¡æ”¹>hosts.denyæ–‡ä»¶è¢«ç¯¡æ”¹</h3><p>æŸ¥çœ‹<code>/etc/hosts.deny</code>æ–‡ä»¶ï¼Œçœ‹æ˜¯å¦è¢«ç¦ç”¨</p><pre tabindex=0><code># ç¦æ­¢æ‰€æœ‰ipè®¿é—®linux çš„sshåŠŸèƒ½
sshd:all:deny
</code></pre><blockquote><p><code>/etc/hosts.allow</code>ï¼ˆå…è®¸ï¼‰å’Œ<code>/etc/hosts.deny</code>ï¼ˆç¦æ­¢ï¼‰è¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯tcpdæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ï¼ŒtcpdæœåŠ¡å™¨å¯ä»¥æ§åˆ¶å¤–éƒ¨IPå¯¹æœ¬æœºæœåŠ¡çš„è®¿é—®ã€‚
ç³»ç»Ÿä¼šå…ˆæ£€æŸ¥<code>/etc/hosts.deny</code>è§„åˆ™ï¼Œå†æ£€æŸ¥<code>/etc/hosts.allow</code>è§„åˆ™ï¼Œå¦‚æœæœ‰å†²çª æŒ‰<code>/etc/hosts.allow</code>è§„åˆ™å¤„ç†</p></blockquote><h3 id=å®¢æˆ·ç«¯è¿æ¥æ•°è¿‡å¤š>å®¢æˆ·ç«¯è¿æ¥æ•°è¿‡å¤š</h3><p>å°†<code>/etc/ssh/sshd_config</code>ä¸­ MaxStartUps 10 æ”¹ä¸ºMaxStartups 10/100ï¼Œé‡å¯sshd</p><h3 id=é’ˆå¯¹vmware-natæ¨¡å¼>é’ˆå¯¹VMware natæ¨¡å¼</h3><p>æè¿°ï¼šè¿æ¥æ–¹å¼ä½¿ç”¨NATï¼›è™šæ‹Ÿèƒ½åœ¨pingé€šä¸»æœºï¼Œä¸»æœºæ— æ³•pingé€šè™šæ‹Ÿæœºã€‚
åŸå› ï¼šè™šæ‹Ÿæœºè‡ªåŠ¨è·å–çš„IPä¸vmnet8è®¾ç½®çš„IPä¸åœ¨åŒä¸€ç½‘æ®µã€‚
è§£å†³ï¼šè®¾ç½®vmnet8è‡ªåŠ¨è·å–ipå³å¯ã€‚</p><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>1 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/bat/><div class=card-body><h2 class=card-title>batåˆ‡æ¢å½“å‰ç›®å½•</h2><p class="date text-base-content/60">Monday, Jun 20, 2016</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>@echo off
</span></span><span style=display:flex><span> cd %~dp0
</span></span><span style=display:flex><span> call git pull
</span></span><span style=display:flex><span> xcopy D:<span style=color:#ae81ff>\g</span>oogle<span style=color:#ae81ff>\h</span>osts<span style=color:#ae81ff>\h</span>osts C:<span style=color:#ae81ff>\W</span>indows<span style=color:#ae81ff>\S</span>ystem32<span style=color:#ae81ff>\d</span>rivers<span style=color:#ae81ff>\e</span>tc<span style=color:#ae81ff>\ </span>/Y /R
</span></span></code></pre></div><p>æ¯æ¬¡æ›´æ–°hostï¼Œä½¿ç”¨ç®¡ç†å‘˜è¿è¡Œæ˜¾ç¤ºgitå¤±è´¥ï¼ŒåŸå› æ˜¯ä½¿ç”¨ç®¡ç†å‘˜è¿è¡Œæ—¶ï¼Œç›®å½•åˆ‡æ¢åˆ°system32ä¸‹äº†ã€‚
<code>cd %~dp0</code>è¡¨ç¤ºåˆ‡æ¢å›å½“å‰ç›®å½•</p><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>1 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/configparser/><div class=card-body><h2 class=card-title>pythonå‘é€é‚®ä»¶ï¼ˆç»­ï¼‰â€”â€” configparser</h2><p class="date text-base-content/60">Friday, Jun 3, 2016</p><h2 id=ç®€ä»‹>ç®€ä»‹</h2><p>æ˜¨å¤©ä»£ç ä¸€äº›åŸºæœ¬é…ç½®å…¨éƒ¨åœ¨ä»£ç ä¸­ï¼Œçµæ´»æ€§è¾ƒå·®ï¼Œè€ƒè™‘åˆ°é€šè¿‡é…ç½®æ–‡ä»¶çš„æ–¹å¼æ¥å®ç°ã€‚ç»“æ„æ¯”è¾ƒç®€å•ï¼Œä¸æƒ³ç”¨xmlæˆ–jsonï¼Œç±»ä¼¼é…ç½®æ•°æ®åº“è¿æ¥çš„<code>property</code>æ–‡ä»¶å°±å¯ä»¥äº†ï¼Œ<code>configparser</code>æ¯”è¾ƒæ»¡è¶³è¦æ±‚ã€‚
python <code>configparser</code>èƒ½å¤Ÿè¯»å–<code>*.conf</code>ä¸<code>*.ini</code>çš„é…ç½®æ–‡ä»¶</p><p>ä»¥ä¸‹å†…å®¹parseræ‘˜å½•è‡ªï¼š<a href=https://wiki.python.org/moin/ConfigParserExamples title=configparserExamples>configparserExamples ç¤ºä¾‹</a></p><h2 id=configparser-ä½¿ç”¨>configparser ä½¿ç”¨</h2><h3 id=è¯»é…ç½®æ–‡ä»¶>è¯»é…ç½®æ–‡ä»¶</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[SectionOne]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Status: Single</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Name: Derek</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Value: Yes</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Age: 30</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Single: True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[SectionTwo]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>FavoriteColor</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>Green, Red, Blue</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[SectionThree]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>FamilyName: Johnson</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Others]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Route: 66</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> ConfigParser
</span></span><span style=display:flex><span>config <span style=color:#f92672>=</span> ConfigParser<span style=color:#f92672>.</span>ConfigParser()
</span></span><span style=display:flex><span>config<span style=color:#f92672>.</span>read(<span style=color:#e6db74>&#39;config file path&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># read node</span>
</span></span><span style=display:flex><span>config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;SectionOne&#39;</span>,<span style=color:#e6db74>&#39;Status)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># read node as list</span>
</span></span><span style=display:flex><span>config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;SectionTwo&#39;</span>,<span style=color:#e6db74>&#39;FavoriteColor&#39;</span>)<span style=color:#f92672>.</span>replace(<span style=color:#e6db74>&#39; &#39;</span>,<span style=color:#e6db74>&#39;&#39;</span>)<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;,&#39;</span>)
</span></span></code></pre></div><h3 id=å†™é…ç½®æ–‡ä»¶>å†™é…ç½®æ–‡ä»¶</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># lets create that config file for next time...</span>
</span></span><span style=display:flex><span>cfgfile <span style=color:#f92672>=</span> open(<span style=color:#e6db74>&#34;c:</span><span style=color:#ae81ff>\\</span><span style=color:#e6db74>next.ini&#34;</span>,<span style=color:#e6db74>&#39;w&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># add the settings to the structure of the file, and lets write it out...</span>
</span></span><span style=display:flex><span>Config<span style=color:#f92672>.</span>add_section(<span style=color:#e6db74>&#39;Person&#39;</span>)
</span></span><span style=display:flex><span>Config<span style=color:#f92672>.</span>set(<span style=color:#e6db74>&#39;Person&#39;</span>,<span style=color:#e6db74>&#39;HasEyes&#39;</span>,<span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>Config<span style=color:#f92672>.</span>set(<span style=color:#e6db74>&#39;Person&#39;</span>,<span style=color:#e6db74>&#39;Age&#39;</span>, <span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>Config<span style=color:#f92672>.</span>write(cfgfile)
</span></span><span style=display:flex><span>cfgfile<span style=color:#f92672>.</span>close()
</span></span></code></pre></div><h3 id=è¯»å–å«æœ‰å®çš„é…ç½®æ–‡ä»¶>è¯»å–å«æœ‰å®çš„é…ç½®æ–‡ä»¶</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[SectionOne]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Param1: Hello</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Param2: World</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[SectionTwo]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Param1: ${SectionOne:Param1} ${SectionOne:Param2}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[SectionThree]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Alpha: One</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Bravo: Two</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Charlie: ${Alpha} Mississippi</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> configparser
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> settings <span style=color:#f92672>=</span> configparser<span style=color:#f92672>.</span>ConfigParser()
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> settings<span style=color:#f92672>.</span>_interpolation <span style=color:#f92672>=</span> configparser<span style=color:#f92672>.</span>ExtendedInterpolation()
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> settings<span style=color:#f92672>.</span>read(<span style=color:#e6db74>&#39;settings.ini&#39;</span>)
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#39;settings.ini&#39;</span>]
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> settings<span style=color:#f92672>.</span>sections()
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#39;SectionOne&#39;</span>, <span style=color:#e6db74>&#39;SectionTwo&#39;</span>, <span style=color:#e6db74>&#39;SectionThree&#39;</span>]
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;SectionTwo&#39;</span>, <span style=color:#e6db74>&#39;Param1&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;Hello World&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;SectionThree&#39;</span>, <span style=color:#e6db74>&#39;Charlie&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;One Mississippi&#39;</span>
</span></span></code></pre></div><h2 id=å‘é€é‚®ä»¶ä»£ç >å‘é€é‚®ä»¶ä»£ç </h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[mail]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>address: abc@qq.com</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>password: XXXXXXXXXX</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>smtp: smtp.qq.com</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>port: 465</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>subject: XXX å·¥ä½œæ—¥å¿—</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>reAddr: abc@qq.com, bcd@qq.com</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ccAddr: abc@qq.com, bcd@qq.com</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>contextPath: a.txt</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>attachPath: b.txt </span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># -*- coding: utf-8 -*-</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>å‘é€å¸¦é™„ä»¶é‚®ä»¶
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> email.mime.text <span style=color:#f92672>import</span> MIMEText
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> email.mime.multipart <span style=color:#f92672>import</span> MIMEMultipart
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> smtplib
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> datetime <span style=color:#f92672>import</span> date
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> configparser
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è¯»å–é…ç½®</span>
</span></span><span style=display:flex><span>config <span style=color:#f92672>=</span> configparser<span style=color:#f92672>.</span>ConfigParser()
</span></span><span style=display:flex><span>config<span style=color:#f92672>.</span>read(<span style=color:#e6db74>&#39;mail.ini&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>address <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;address&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># å¯ä»¥è€ƒè™‘åŠ å¯†</span>
</span></span><span style=display:flex><span>password <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;password&#39;</span>)
</span></span><span style=display:flex><span>smtp <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;smtp&#39;</span>)
</span></span><span style=display:flex><span>port <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;port&#39;</span>)
</span></span><span style=display:flex><span>subject <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;subject&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># æ”¶ä»¶äºº</span>
</span></span><span style=display:flex><span>receiver <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;reAddr&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># æŠ„é€äºº</span>
</span></span><span style=display:flex><span>carbonCopy <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;ccAddr&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># æ­£æ–‡</span>
</span></span><span style=display:flex><span>context <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;contextPath&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># é™„ä»¶(æš‚æ—¶è€ƒè™‘çš„ä¸€ä¸ª)</span>
</span></span><span style=display:flex><span>attachment <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;mail&#39;</span>, <span style=color:#e6db74>&#39;attachPath&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºä¸€ä¸ªå¸¦é™„ä»¶çš„å®ä¾‹</span>
</span></span><span style=display:flex><span>msg <span style=color:#f92672>=</span> MIMEMultipart()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åŠ é‚®ä»¶å¤´</span>
</span></span><span style=display:flex><span>msg[<span style=color:#e6db74>&#39;from&#39;</span>] <span style=color:#f92672>=</span> address
</span></span><span style=display:flex><span>msg[<span style=color:#e6db74>&#39;to&#39;</span>] <span style=color:#f92672>=</span> receiver
</span></span><span style=display:flex><span>msg[<span style=color:#e6db74>&#39;subject&#39;</span>] <span style=color:#f92672>=</span> date<span style=color:#f92672>.</span>today()<span style=color:#f92672>.</span>strftime(<span style=color:#e6db74>&#34;%Y-%m-</span><span style=color:#e6db74>%d</span><span style=color:#e6db74>&#34;</span>) <span style=color:#f92672>+</span> subject
</span></span><span style=display:flex><span>msg[<span style=color:#e6db74>&#39;cc&#39;</span>] <span style=color:#f92672>=</span> carbonCopy
</span></span><span style=display:flex><span>msg<span style=color:#f92672>.</span>attach(MIMEText(open(context, <span style=color:#e6db74>&#39;rb&#39;</span>)<span style=color:#f92672>.</span>read(), <span style=color:#e6db74>&#39;plain&#39;</span>, <span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ„é€ é™„ä»¶</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(attachment, <span style=color:#e6db74>&#39;rb&#39;</span>) <span style=color:#66d9ef>as</span> myfile:
</span></span><span style=display:flex><span>    att <span style=color:#f92672>=</span> MIMEText(myfile<span style=color:#f92672>.</span>read(), <span style=color:#e6db74>&#39;base64&#39;</span>, <span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>    att[<span style=color:#e6db74>&#34;Content-Type&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;application/octet-stream&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># é™„ä»¶å</span>
</span></span><span style=display:flex><span>    filename <span style=color:#f92672>=</span> attachment<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\\</span><span style=color:#e6db74>&#39;</span>)[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    att[<span style=color:#e6db74>&#34;Content-Disposition&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;attachment; filename=&#39;</span> <span style=color:#f92672>+</span> filename
</span></span><span style=display:flex><span>    msg<span style=color:#f92672>.</span>attach(att)
</span></span><span style=display:flex><span><span style=color:#75715e># å‘é€é‚®ä»¶</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>    server <span style=color:#f92672>=</span> smtplib<span style=color:#f92672>.</span>SMTP_SSL(smtp, int(port))
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>login(address, password)
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ‰€æœ‰æ”¶ä»¶äººï¼ˆåŒ…æ‹¬æŠ„é€ï¼‰</span>
</span></span><span style=display:flex><span>    receiverList <span style=color:#f92672>=</span> (receiver <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;,&#39;</span> <span style=color:#f92672>+</span> carbonCopy)<span style=color:#f92672>.</span>replace(<span style=color:#e6db74>&#39; &#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>)<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;,&#39;</span>)
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>sendmail(msg[<span style=color:#e6db74>&#39;from&#39;</span>], receiverList, msg<span style=color:#f92672>.</span>as_string())
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>quit()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;&#39;&#39;success&#39;&#39;&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>    print(e)
</span></span></code></pre></div><h2 id=æ³¨æ„äº‹é¡¹>æ³¨æ„äº‹é¡¹</h2><ol><li>è‹¥å¯†ç ä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦è½¬ä¹‰</li></ol><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>2 minute read</span></div></div></div></a></div><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><a class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href=/posts/post/><div class=card-body><h2 class=card-title>python å‘é€é‚®ä»¶</h2><p class="date text-base-content/60">Thursday, Jun 2, 2016</p><h2 id=éœ€æ±‚>éœ€æ±‚</h2><p>æ¯å¤©å‘é€å·¥ä½œæ—¥æŠ¥ï¼Œéœ€è¦sendä¸€å †äººï¼Œccä¸€å †äººï¼ˆå…¬å¸è§„å®šï¼Œå‘µå‘µï¼‰ï¼Œè¿˜è¦æ·»åŠ é™„ä»¶ã€‚è€ƒè™‘åˆ°pythonèƒ½å¤Ÿæ–¹ä¾¿çš„å‘é€é‚®ç®±ï¼Œå°±æ‰“ç®—å†™ä¸ªè„šæœ¬ã€‚</p><h2 id=ä»£ç >ä»£ç </h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># -*- coding: utf-8 -*-</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/env python3</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>å‘é€å¸¦é™„ä»¶é‚®ä»¶
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> email.mime.text <span style=color:#f92672>import</span> MIMEText
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> email.mime.multipart <span style=color:#f92672>import</span> MIMEMultipart
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> smtplib
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> datetime <span style=color:#f92672>import</span> date
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºä¸€ä¸ªå¸¦é™„ä»¶çš„å®ä¾‹</span>
</span></span><span style=display:flex><span>msg <span style=color:#f92672>=</span> MIMEMultipart()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ¥æ”¶åˆ—è¡¨</span>
</span></span><span style=display:flex><span>receiverList <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;abc@yeah.net&#39;</span>, <span style=color:#e6db74>&#39;abc@qq.com&#39;</span>]
</span></span><span style=display:flex><span><span style=color:#75715e># æŠ„é€åˆ—è¡¨</span>
</span></span><span style=display:flex><span>ccList <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;abc@yeah.net&#39;</span>, <span style=color:#e6db74>&#39;abc@qq.com&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># é‚®ä»¶å¤´</span>
</span></span><span style=display:flex><span>msg[<span style=color:#e6db74>&#39;from&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;song_cai@yeah.net&#39;</span>
</span></span><span style=display:flex><span>msg[<span style=color:#e6db74>&#39;to&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;, &#39;</span><span style=color:#f92672>.</span>join(receiverList)
</span></span><span style=display:flex><span>msg[<span style=color:#e6db74>&#39;subject&#39;</span>] <span style=color:#f92672>=</span> date<span style=color:#f92672>.</span>today()<span style=color:#f92672>.</span>strftime(<span style=color:#e6db74>&#34;%Y-%m-</span><span style=color:#e6db74>%d</span><span style=color:#e6db74>&#34;</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&#39;&#39;XXå·¥ä½œæ—¥æŠ¥&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>msg[<span style=color:#e6db74>&#39;cc&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;, &#39;</span><span style=color:#f92672>.</span>join(ccList)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ­£æ–‡</span>
</span></span><span style=display:flex><span>msg<span style=color:#f92672>.</span>attach(MIMEText(open(<span style=color:#e6db74>&#39;d:</span><span style=color:#ae81ff>\\</span><span style=color:#e6db74>mailContext.txt&#39;</span>,
</span></span><span style=display:flex><span>                         <span style=color:#e6db74>&#39;rb&#39;</span>)<span style=color:#f92672>.</span>read(), <span style=color:#e6db74>&#39;plain&#39;</span>, <span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># é™„ä»¶</span>
</span></span><span style=display:flex><span>att <span style=color:#f92672>=</span> MIMEText(open(<span style=color:#e6db74>&#39;d:</span><span style=color:#ae81ff>\\</span><span style=color:#e6db74>mailContext.txt&#39;</span>, <span style=color:#e6db74>&#39;rb&#39;</span>)<span style=color:#f92672>.</span>read(), <span style=color:#e6db74>&#39;base64&#39;</span>, <span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>att[<span style=color:#e6db74>&#34;Content-Type&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;application/octet-stream&#39;</span>
</span></span><span style=display:flex><span>att[<span style=color:#e6db74>&#34;Content-Disposition&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;attachment; filename=&#34;mailContext.txt&#34;&#39;</span>
</span></span><span style=display:flex><span>msg<span style=color:#f92672>.</span>attach(att)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å‘é€é‚®ä»¶</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>    server <span style=color:#f92672>=</span> smtplib<span style=color:#f92672>.</span>SMTP_SSL(<span style=color:#e6db74>&#39;&#39;&#39;smtp.qq.com&#39;&#39;&#39;</span>, <span style=color:#ae81ff>465</span>)
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>login(<span style=color:#e6db74>&#39;song_cai@yeah.net&#39;</span>, <span style=color:#e6db74>&#39;&#39;&#39;xxxxx&#39;&#39;&#39;</span>)
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>sendmail(msg[<span style=color:#e6db74>&#39;from&#39;</span>], receiverList <span style=color:#f92672>+</span> ccList, msg<span style=color:#f92672>.</span>as_string())
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>quit()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;&#39;&#39;success&#39;&#39;&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>    input(e)
</span></span></code></pre></div><h2 id=æ³¨æ„äº‹é¡¹>æ³¨æ„äº‹é¡¹</h2><ul><li>ç°åœ¨å¤§éƒ¨åˆ†é‚®ç®±ä½¿ç”¨SSLæ–¹å¼ï¼Œæ‰€ä»¥å¯¹åº”åœ°å¿…é¡»ä½¿ç”¨<code>SMTP_SSL</code>,ç›´æ¥æŒ‡å®šåœ°å€å’Œç«¯å£ï¼Œä½¿ç”¨<code>connect</code>çš„æ–¹å¼æŒ‡å®šå­˜åœ¨é—®é¢˜</li><li>æ­£æ–‡è¦å†™åœ¨é™„ä»¶ä¹‹å‰ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸¤ä¸ªé™„ä»¶ï¼ˆå³æ­£æ–‡éƒ¨åˆ†ä¹Ÿæˆä¸ºé™„ä»¶äº†ï¼‰</li></ul><p>** æ‡’æƒ°ä½¿äººè¿›æ­¥ **</p><div class="card-actions justify-between items-center mt-4"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Cai Song</span></span></div><div class="flex items-center"><ion-icon name=time class=mr-1></ion-icon><span>1 minute read</span></div></div></div></a></div></div><div class="flex justify-center mt-8"><div class="join grid grid-cols-2"><a href=/page/18/ title="Previous page" class="join-item btn btn-outline btn-sm">Previous page
</a><a href=/page/20/ title="Next page" class="join-item btn btn-outline btn-sm">Next page</a></div></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>Â© 2016 - 2025 Caisong's Blog</p><p class=text-sm>ğŸŒ±
<span class=text-base-content/60>Powered by <a class=hover:underline href=https://gohugo.io/ target=_blank>Hugo</a> with theme
<a class=hover:underline href=https://github.com/g1eny0ung/hugo-theme-dream target=_blank>Dream</a>.</span></p></div><div x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center h-[32px] px-2 gap-2 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div><div class=back><div class=container><div class="dream-grid dream-grid-about"><div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column"><article class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl dark:border dark:border-base-content/30"><div class=card-body><div class=card-title>About Me</div><div class="prose dark:prose-invert"><p>å¤§é¾„ç¨‹åºå‘˜ï¼Œå–œæ¬¢æŠ˜è…¾å„ç§ç¯å¢ƒéƒ¨ç½²ã€è½¯ä»¶åº”ç”¨ã€‚</p><p>åšå®¢è®°å½•æ—¥å¸¸ã€‚</p></div></div></article></div></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>Â© 2016 - 2025 Caisong's Blog</p><p class=text-sm>ğŸŒ±
<span class=text-base-content/60>Powered by <a class=hover:underline href=https://gohugo.io/ target=_blank>Hugo</a> with theme
<a class=hover:underline href=https://github.com/g1eny0ung/hugo-theme-dream target=_blank>Dream</a>.</span></p></div><div x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center h-[32px] px-2 gap-2 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div></div></div><script>window.lightTheme="emerald",window.darkTheme="forest"</script><script src=https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin=anonymous></script><script src=/js/grid.min.js></script><script src=/js/main.min.js></script><script type=module src=https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js></script><script nomodule src=https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js></script></body></html>